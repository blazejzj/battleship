(()=>{"use strict";var e={144:(e,t,n)=>{n.d(t,{Z:()=>x});var a=n(81),r=n.n(a),i=n(645),s=n.n(i),o=n(667),l=n.n(o),d=new URL(n(858),n.b),c=new URL(n(2),n.b),u=new URL(n(407),n.b),m=new URL(n(598),n.b),h=new URL(n(241),n.b),p=new URL(n(492),n.b),g=s()(r());g.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Anton&display=swap);"]);var f=l()(d),b=l()(c),y=l()(u),w=l()(m),v=l()(h),k=l()(p);g.push([e.id,"@-webkit-keyframes shot{75%{width:5rem;background-color:#fefefe;border-color:#fefefe}100%{width:30%;background-color:rgba(255,0,0,.85);border-color:rgba(255,0,0,.5);transform:translateX(0) rotate(-315deg)}}@keyframes shot{75%{width:5rem;background-color:#fefefe;border-color:#fefefe}100%{width:30%;background-color:rgba(255,0,0,.85);border-color:rgba(255,0,0,.5);transform:translateX(0) rotate(-315deg)}}@-webkit-keyframes miss{75%{width:5rem;background-color:#fefefe;border-color:#fefefe}100%{width:30%;background-color:rgba(0,153,255,.85);border-color:rgba(0,153,255,.5);transform:translateX(0) rotate(-315deg)}}@keyframes miss{75%{width:5rem;background-color:#fefefe;border-color:#fefefe}100%{width:30%;background-color:rgba(0,153,255,.85);border-color:rgba(0,153,255,.5);transform:translateX(0) rotate(-315deg)}}@-webkit-keyframes ripple{0%{transform:scale(0);opacity:0}50%{transform:scale(1.25);opacity:1}100%{transform:scale(0);opacity:0}}@keyframes ripple{0%{transform:scale(0);opacity:0}50%{transform:scale(1.25);opacity:1}100%{transform:scale(0);opacity:0}}@-webkit-keyframes bleep{0%{opacity:1}50%{opacity:.4}100%{opacity:1}}@keyframes bleep{0%{opacity:1}50%{opacity:.4}100%{opacity:1}}@-webkit-keyframes scaleDrop{0%{opacity:0;visibility:hidden;transform:scale(0)}80%{opacity:1;visibility:visible;transform:scale(1.2)}100%{opacity:1;visibility:visible;transform:scale(1)}}@keyframes scaleDrop{0%{opacity:0;visibility:hidden;transform:scale(0)}80%{opacity:1;visibility:visible;transform:scale(1.2)}100%{opacity:1;visibility:visible;transform:scale(1)}}@-webkit-keyframes typewriter{0%{max-width:0;color:#fff}100%{max-width:100%;color:#fff}}@keyframes typewriter{0%{max-width:0;color:#fff}100%{max-width:100%;color:#fff}}@-webkit-keyframes blink{0%{background-color:#fff}50%{background-color:rgba(0,0,0,0)}100%{background-color:#fff}}@keyframes blink{0%{background-color:#fff}50%{background-color:rgba(0,0,0,0)}100%{background-color:#fff}}@-webkit-keyframes sweep{to{transform:rotate(360deg) translate3d(0, 0, 0)}}@keyframes sweep{to{transform:rotate(360deg) translate3d(0, 0, 0)}}@-webkit-keyframes enemyTurn{0%{transform:scale(1)}50%{transform:scale(1.0125)}100%{transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1)}}@keyframes enemyTurn{0%{transform:scale(1)}50%{transform:scale(1.0125)}100%{transform:scale(1)}}@-webkit-keyframes seepAgent{0%{transform:translateX(-100%)}100%{transform:translateX(0%)}}@keyframes seepAgent{0%{transform:translateX(-100%)}100%{transform:translateX(0%)}}@-webkit-keyframes seepEnemy{0%{transform:translateX(100%)}100%{transform:translateX(0%)}}@keyframes seepEnemy{0%{transform:translateX(100%)}100%{transform:translateX(-50%)}}@-webkit-keyframes pop{0%{opacity:.25;transform:scale(0) translate(-50%, -50%)}80%{opacity:1;transform:scale(1.1) translate(-50%, -50%)}100%{opacity:1;transform:scale(1) translate(-50%, -50%)}}@keyframes pop{0%{opacity:.25;transform:scale(0) translate(-50%, -50%)}80%{opacity:1;transform:scale(1.1) translate(-50%, -50%)}100%{opacity:1;transform:scale(1) translate(-50%, -50%)}}@-webkit-keyframes grow{0%{width:12.5rem}100%{width:100%}}@keyframes grow{0%{width:12.5rem}100%{width:100%}}@-webkit-keyframes shrink{0%{width:100%}100%{width:12.5rem}}@keyframes shrink{0%{width:100%}100%{width:12.5rem}}@-webkit-keyframes opacityShow{0%{opacity:0}100%{opacity:1}}@keyframes opacityShow{0%{opacity:0}100%{opacity:1}}.play-now-button{display:flex;justify-content:center;align-items:center;mask-size:100%;-webkit-mask-size:100%;position:relative;width:100%;min-width:0;aspect-ratio:4/1;margin:0 auto;border:none;background-color:rgba(0,0,0,0);cursor:crosshair;mask:url("+f+") no-repeat 50% 50%;-webkit-mask:url("+f+') no-repeat 50% 50%}.play-now-button:after{content:"";position:absolute;z-index:1;left:0;right:0;bottom:0;transition:all ease;transition-duration:.3s}.play-now-button:hover:after,.play-now-button:focus:after{transition-duration:2s;box-shadow:0px 1.25rem .9375rem 1.375rem rgba(0,0,0,.3019607843)}.play-now-button .text-play-button{position:absolute;left:50%;bottom:0;width:100%;line-height:2.5;font-size:min(.5rem + .5vw,.95rem);letter-spacing:.1875rem;text-align:center;color:#fff;transform:translate(-50%);transition:color .8s ease;padding:0;margin:0}.play-now-button:hover .text-play-button,.play-now-button:focus .text-play-button{color:#000}.play-now-button:before{content:"";position:absolute;z-index:-1;left:50%;top:50%;height:100%;width:0;background-color:#fff;transform:translate(-50%, -50%);transition:width .8s ease}.play-now-button:hover:before,.play-now-button:focus:before{width:100%}.github-button{display:flex;flex-direction:column;justify-content:center;background-color:rgba(0,0,0,.75);position:relative;z-index:1;padding:1em 1.5em;margin-top:1rem;outline:none;border:none;border-radius:.625em;font-size:min(.5rem + .5vw,.95rem);letter-spacing:.1875rem;color:#fff;overflow:hidden;transition:color .5s;cursor:pointer}.github-button:hover,.github-button:focus{color:rgba(0,0,0,0)}.github-button:before{content:"";background:#fff url('+b+') center center/contain no-repeat;position:absolute;z-index:2;left:-20%;right:-20%;top:0;bottom:0;transform:scale(0);transition:all .5s}.github-button:after{content:"";background:#fff;position:absolute;z-index:-1;left:-20%;right:-20%;top:0;bottom:0;transform:skewX(0) scale(0, 1);transition:all .5s}.github-button:hover::before,.github-button:hover:after,.github-button:focus::before,.github-button:focus:after{transition:all .5s}.github-button:hover::before,.github-button:focus::before{transform:scale(0.6)}.github-button:hover:after,.github-button:focus:after{transform:skewX(-45deg) scale(1, 1)}.name-form{margin:0 auto;position:relative;max-width:80%}.name-form .name-input{position:relative;width:100%;padding-inline:.5em;padding-block:.7em;border:none;border-bottom:.1rem solid rgba(255,255,255,.6509803922);font-size:min(.6rem + .6vw,1rem);color:#fff;background-color:rgba(0,0,0,0)}.name-form .name-input::-webkit-input-placeholder{color:rgba(255,255,255,.6509803922)}.name-form .name-input::-moz-placeholder{color:rgba(255,255,255,.6509803922)}.name-form .name-input:-ms-input-placeholder{color:rgba(255,255,255,.6509803922)}.name-form .name-input::-ms-input-placeholder{color:rgba(255,255,255,.6509803922)}.name-form .name-input::placeholder{color:rgba(255,255,255,.6509803922)}.name-form .name-input:hover,.name-form .name-input:focus{outline:none;background:rgba(0,0,0,.2)}.name-form .name-input:focus~.input-border{width:100%}.name-form .input-border{position:absolute;background:#fff;width:0%;height:.125rem;bottom:0;left:0;transition:.3s}.pregame-card{background-color:rgba(0,0,0,.75);display:flex;flex-direction:column;justify-content:space-between;width:100%;max-width:28.125rem;padding:min(10%,3rem) min(10%,3rem);border:.125rem solid rgba(0,0,0,0);border-radius:1rem;box-shadow:0 0 30px .0625rem rgba(0,0,0,.3019607843);text-align:center;transition:border-color .5s;aspect-ratio:10/8}.pregame-card:hover{border:.125rem solid #000}.pregame-card h1{position:relative;line-height:1;font-family:"Anton",sans-serif;font-size:5rem;letter-spacing:.1rem;color:rgba(0,0,0,0)}.pregame-card h1::before{content:"";position:absolute;z-index:1;height:100%;width:100%;top:0;left:0;background:url('+y+") no-repeat center;background-size:contain;pointer-events:none}.pregame-card .name-form{position:relative;top:5%}@media screen and (max-width: 30rem){.pregame-card h1{font-size:3rem}}button{outline:none}button:focus,.ship-card:focus{outline:.125rem solid skyblue;outline-offset:.125rem}button:focus:not(:focus-visible),.ship-card:focus:not(:focus-visible){outline:none}.enemy-win+.new-game-button:focus{outline-color:#f3a640}.axis-button-container{display:flex;justify-content:center;align-items:center;grid-column:1/3;gap:min(10%,2rem)}.axis-button,.reset-button,.continue-button,.new-game-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-block;min-width:0;margin:0;padding:.75em 3em;border:.0625rem solid #fff;border-radius:.5rem;font-family:inherit;font-size:min(.5rem + 1vw,1rem);text-align:center;color:#fff;background-color:rgba(0,0,0,0);transition:all 300ms cubic-bezier(0.23, 1, 0.32, 1);cursor:pointer}.continue-button.disabled{border-color:rgba(255,255,255,.6509803922);color:rgba(255,255,255,.6509803922);pointer-events:all;cursor:not-allowed}.continue-button.disabled:active{pointer-events:none;background-color:rgba(207,64,64,.5019607843)}.axis-button:hover,.reset-button:hover,.continue-button.enabled:hover,.new-game-button:hover{box-shadow:rgba(0,0,0,.25) 0 .5rem .9375rem;transform:translateY(-0.125rem)}.axis-button:active,.reset-button:active,.continue-button.active:active,.new-game-button:active,.axis-button.selected{color:#000;background-color:#fff}.board.friendly .map-title{color:skyblue}.board.enemy .map-title{color:#f3a640}.board{width:100%;display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;max-width:600px;border-radius:.5rem}.board .map-title-container .map-title{text-align:right;font-size:min(.5rem + 1vw,1.25rem);margin-bottom:.5rem;padding-right:.5rem}.board .axis-button-container{order:1;grid-column:1/3;margin-bottom:1rem}.board .letter-container,.board .number-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:min(.2rem + 1.25vw,.85rem)}.board .letter-container{display:flex;justify-content:space-around;order:2;grid-column:2/3;margin-bottom:.5rem}.board .number-container{display:flex;flex-direction:column;justify-content:space-around;order:3;grid-column:1/2;margin-right:.5rem}.board .field-container{order:4;position:relative;z-index:0;grid-column:2/3;display:grid;grid-template-columns:repeat(10, 1fr);grid-template-rows:repeat(10, 1fr);aspect-ratio:1/1;border-collapse:collapse;background-repeat:no-repeat;overflow:hidden;background-image:url("+w+'),radial-gradient(circle, rgba(2, 0, 36, 0) 15%, rgba(112, 205, 241, 0.1012780112) 60%, rgba(112, 205, 241, 0.249737395) 85%, rgba(112, 205, 241, 0.4037990196) 100%)}.board .field-container::before{content:"";position:absolute;z-index:1;display:block;top:50%;left:50%;height:min(1rem + 1vw,2.25rem);width:min(1rem + 1vw,2.25rem);border-radius:100%;transform-origin:top left;background:url('+v+') center/cover no-repeat;transform:rotate(45deg) translate(-50%, -50%);-webkit-filter:invert(67%) sepia(88%) saturate(286%) hue-rotate(164deg) brightness(96%) contrast(97%);filter:invert(67%) sepia(88%) saturate(286%) hue-rotate(164deg) brightness(96%) contrast(97%)}.board .field-container::after{display:block;content:"";position:absolute;z-index:-1;box-sizing:border-box;inset:unset;top:-50%;left:-50%;margin:0 auto;border-right:solid .0625rem rgba(135,207,235,.3137254902);width:100%;height:100%;border-radius:100% 0 0 0;transform-origin:100% 100%;background:linear-gradient(50deg, rgba(34, 34, 34, 0) 56%, #70cdf1);-webkit-animation:sweep 3.5s infinite linear;animation:sweep 3.5s infinite linear;pointer-events:none}.board .field-container img{-webkit-filter:invert(67%) sepia(88%) saturate(286%) hue-rotate(164deg) brightness(96%) contrast(97%);filter:invert(67%) sepia(88%) saturate(286%) hue-rotate(164deg) brightness(96%) contrast(97%)}.board .field-container .field{display:flex;justify-content:center;align-items:center;aspect-ratio:1/1;position:relative}.board .field-container .field.no-drop,.board .field-container .field.no-drop *{pointer-events:none}.board .field-container .field.hovering{background-color:rgba(135,207,235,.5019607843)}.board .field-container .field.hovering.red{background-color:rgba(207,64,64,.5019607843)}.board .field-container .field:hover{background-color:rgba(255,255,255,.25)}.board .field-container .ship-image-container{position:relative;z-index:1;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform-origin:center}.board .field-container .ship-image-container.bleep{animation:bleep 3.5s infinite linear;-webkit-animation:bleep 3.5s infinite linear}.board .field-container .ship-image-container img{position:relative;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;animation:scaleDrop .25s linear forwards;-webkit-animation:scaleDrop .25s linear forwards}.disabled{pointer-events:none}@media screen and (max-width: 30rem){.board .field-container{border-width:.0625rem 0 0 .0625rem}.board .field-container .field{border-width:0 .0625rem .0625rem 0}}.fleet-setup{display:flex;flex-direction:column;justify-content:center;flex-wrap:wrap;border-radius:.5rem}.ship-card{display:flex;justify-content:center;align-items:center;flex:1;position:relative;max-width:9.375rem;min-width:6.25rem;margin:calc(.25rem + .5vw);padding:.25rem;border:.125rem solid #fff;border-radius:.5rem;background:rgba(0,0,0,0);font-family:inherit;color:#fff;background:#000;box-shadow:skyblue 0px 0px 10px 0px;transition:all .05s linear,visibility .01s linear;-webkit-filter:brightness(0.5);filter:brightness(0.5)}.ship-card:focus{box-shadow:none;-webkit-filter:brightness(1);filter:brightness(1)}.ship-card:focus .ship-content{position:relative;z-index:1;pointer-events:none}.ship-card:focus .ship-content .ship-image{position:relative;z-index:2;-webkit-filter:invert(100%) sepia(0%) saturate(0%) hue-rotate(8deg) brightness(100%) contrast(104%);filter:invert(100%) sepia(0%) saturate(0%) hue-rotate(8deg) brightness(100%) contrast(104%)}.ship-card.hidden{background-color:rgba(0,0,0,.75);box-shadow:none;pointer-events:none;opacity:.5;-webkit-filter:brightness(0.5);filter:brightness(0.5)}.ship-card.hidden::before,.ship-card.hidden::after{background:rgba(0,0,0,0)}.ship-card.hidden .ship-content{visibility:hidden}.ship-card .ship-content img{height:min(1rem + 1.5vw,2rem);max-width:100%;-webkit-filter:invert(100%) sepia(8%) saturate(37%) hue-rotate(328deg) brightness(105%) contrast(100%);filter:invert(100%) sepia(8%) saturate(37%) hue-rotate(328deg) brightness(105%) contrast(100%);pointer-events:none;position:relative;z-index:3}.ship-card .ship-content .ship-name{position:relative;z-index:3;font-size:.85rem}.ship-card[data-ship-name=carrier]{order:1}.ship-card[data-ship-name=carrier] img{aspect-ratio:4/1}.ship-card[data-ship-name=battleship]{order:2}.ship-card[data-ship-name=battleship] img{aspect-ratio:3.5/1}.ship-card[data-ship-name=cruiser]{order:3}.ship-card[data-ship-name=cruiser] img{aspect-ratio:3/1}.ship-card[data-ship-name=submarine]{order:4}.ship-card[data-ship-name=submarine] img{aspect-ratio:3/1}.ship-card[data-ship-name=destroyer]{order:5}.ship-card[data-ship-name=destroyer] img{aspect-ratio:2/1}.ship-card:before,.ship-card:after{content:"";position:absolute;z-index:-1;background:#000;transition:all .2s linear,visibility .01s linear}.ship-card:before{width:calc(100% + .375rem);height:calc(100% - 1rem);top:.5rem;left:-0.1875rem}.ship-card:after{width:calc(100% - 1rem);height:calc(100% + .375rem);top:-0.1875rem;left:.5rem}.ship-card:hover:before,.ship-card:focus:before{height:calc(100% - 2rem);top:1rem}.ship-card:hover:after,.ship-card:focus:after{width:calc(100% - 2rem);left:1rem}.ship-card:active{transform:scale(0.95)}.ship-card:hover{cursor:-webkit-grab;cursor:grab}@media screen and (max-width: 30rem){.ship-card[data-ship-name=carrier]{order:5}.ship-card[data-ship-name=battleship]{order:4}.ship-card[data-ship-name=cruiser]{order:3}.ship-card[data-ship-name=submarine]{order:2}.ship-card[data-ship-name=destroyer]{order:1}}.setup-wrapper{width:100%}.setup-wrapper>*{border-radius:.5rem}.message.setup,.reset-continue-section{background-color:rgba(0,0,0,.75)}.message.setup{display:flex;justify-content:flex-start;align-items:center;gap:.5rem;max-width:46.875rem;margin:0 auto .5rem auto;padding:1rem;font-size:min(.5rem + 1vw,1rem)}.message.setup .message-image{height:min(1.25rem + 2vw,2.75rem)}.message.setup .message-container{display:inline;text-align:start}.message.setup .message-container .message-agent{display:inline;color:skyblue}.message.setup .message-container .typed-cursor{position:relative;left:.0625rem;bottom:-0.1875rem;display:inline-block;width:.5rem;height:1rem;color:rgba(0,0,0,0);background-color:skyblue;overflow:hidden;-webkit-animation-duration:1.5s;animation-duration:1.5s}.setup-container{background-color:rgba(0,0,0,.75);max-width:46.875rem;margin:0 auto;padding:1rem}.board-fleet-container{display:flex;justify-content:center;gap:1rem;margin-top:.5rem}.reset-continue-section{display:flex;justify-content:center;align-items:center;gap:min(10%,2rem);max-width:46.875rem;margin:.5rem auto 0 auto;padding:1rem}@media screen and (max-width: 30rem){.app.setup .setup-container .board-fleet-container{display:flex;flex-direction:column}.app.setup .setup-container .board-fleet-container .fleet-setup{flex-direction:row}}.battle-wrapper{width:100%;display:grid;grid-template-columns:1fr 1fr;justify-items:center;gap:1rem;margin:0 auto;max-width:75rem}.battle-wrapper .board.friendly,.battle-wrapper .board.enemy{background-color:rgba(0,0,0,.75);padding:1rem}.battle-wrapper .board.friendly .map-title-container,.battle-wrapper .board.enemy .map-title-container{order:1;grid-column:2/3}.battle-wrapper .field-container.field-container-enemy{background:url('+w+'),radial-gradient(circle, rgba(2, 0, 36, 0) 0%, rgba(243, 166, 64, 0.1544992997) 60%, rgba(243, 166, 64, 0.2525385154) 85%, rgba(243, 166, 64, 0.3981967787) 100%)}.battle-wrapper .field-container.field-container-enemy::before{-webkit-filter:invert(87%) sepia(18%) saturate(3703%) hue-rotate(325deg) brightness(96%) contrast(98%) !important;filter:invert(87%) sepia(18%) saturate(3703%) hue-rotate(325deg) brightness(96%) contrast(98%) !important}.battle-wrapper .field-container.field-container-enemy img{-webkit-filter:invert(63%) sepia(99%) saturate(360%) hue-rotate(343deg) brightness(98%) contrast(94%);filter:invert(63%) sepia(99%) saturate(360%) hue-rotate(343deg) brightness(98%) contrast(94%)}.battle-wrapper .field-container::after{display:none}.battle-wrapper .field-container .map-title-container .map-title{font-size:min(.5rem + 1vw,1.125rem);color:#f3a640}.battle-wrapper .field-container .field{position:relative;cursor:crosshair}.battle-wrapper .field-container .field::before{content:"";position:absolute;z-index:1;transform:translate(-37.5rem, -40.625rem) rotate(-315deg);height:30%;width:12.5rem;border:.1875rem solid #fefefe;border-radius:1rem;background-color:#fefefe;opacity:1;transition:all .15s cubic-bezier(0.7, 0.03, 0.85, 0.43)}.battle-wrapper .field-container .field::after{content:"";position:absolute;z-index:1;height:100%;width:100%;border-radius:100%;opacity:0}.battle-wrapper .field-container .field.hit::before{animation:shot .35s .175s 1;-webkit-animation:shot .35s .175s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.battle-wrapper .field-container .field.hit::after{background-color:rgba(255,0,0,.5);animation:ripple .5s .2s 1;-webkit-animation:ripple .5s .2s 1;animation-delay:.35s;-webkit-animation-delay:.35s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.battle-wrapper .field-container .field.miss::before{animation:miss .35s .175s 1;-webkit-animation:miss .35s .175s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.battle-wrapper .field-container .field.miss::after{background-color:rgba(0,153,255,.5);animation:ripple .5s .2s 1;-webkit-animation:ripple .5s .2s 1;animation-delay:.35s;-webkit-animation-delay:.35s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.battle-wrapper .message.battle{display:flex;justify-content:flex-start;align-items:center;background-color:rgba(0,0,0,.75);width:100%;grid-column:1/3;gap:.5rem;padding:1rem;border-radius:.5rem;font-size:min(.5rem + 1vw,1rem);transition:all .6s}.battle-wrapper .message.battle.agent .message-container .message-agent{color:skyblue}.battle-wrapper .message.battle.agent .message-container .typed-cursor{background-color:skyblue}.battle-wrapper .message.battle.enemy{justify-content:end}.battle-wrapper .message.battle.enemy .message-image{order:2}.battle-wrapper .message.battle.enemy .message-container{order:1}.battle-wrapper .message.battle.enemy .message-container .message-enemy{color:#f3a640}.battle-wrapper .message.battle.enemy .message-container .typed-cursor{background-color:#f3a640}.battle-wrapper .message.battle .message-image{height:min(1.25rem + 2vw,2.75rem)}.battle-wrapper .message.battle .message-container{display:inline;text-align:start}.battle-wrapper .message.battle .message-container .message-agent,.battle-wrapper .message.battle .message-container .message-enemy{display:inline}.battle-wrapper .message.battle .message-container .typed-cursor{position:relative;left:.0625rem;bottom:-0.1875rem;display:inline-block;width:.5rem;height:1rem;color:rgba(0,0,0,0);overflow:hidden;-webkit-animation-duration:1.5s;animation-duration:1.5s}.message.battle.on-turn{-webkit-animation:enemyTurn .6s ease forwards;animation:enemyTurn .6s ease forwards}.message.battle.on-turn.agent .message-container .message-agent,.message.battle.on-turn.agent .message-container .message-enemy,.message.battle.on-turn.enemy .message-container .message-agent,.message.battle.on-turn.enemy .message-container .message-enemy{color:#000}.message.battle.on-turn.agent .message-container .typed-cursor,.message.battle.on-turn.enemy .message-container .typed-cursor{background-color:#000}.message.battle.agent{position:relative;overflow:hidden}.message.battle.agent::after{content:"";position:absolute;z-index:-1;height:100%;width:100%;inset:0;width:200%;background-position:left;background:skyblue;background:linear-gradient(90deg, rgb(135, 206, 235) 0%, rgba(135, 206, 235, 0.8029586835) 20%, rgba(135, 206, 235, 0.6040791317) 40%, rgba(135, 206, 235, 0.4023984594) 60%, rgba(135, 206, 235, 0.1951155462) 80%, rgba(135, 206, 235, 0) 100%);transform:translateX(-100%)}.message.battle.enemy{position:relative;overflow:hidden}.message.battle.enemy::after{content:"";position:absolute;z-index:-1;height:100%;width:100%;inset:0;width:200%;background-position:left;background:#f3a640;background:linear-gradient(90deg, rgba(243, 166, 64, 0) 0%, rgba(243, 166, 64, 0.2021183473) 20%, rgba(243, 166, 64, 0.4037990196) 40%, rgba(243, 166, 64, 0.6026785714) 60%, rgba(243, 166, 64, 0.7987570028) 80%, rgb(243, 166, 64) 100%);transform:translateX(100%)}.message.battle.enemy .message-container{text-align:end}.message.battle.agent.on-turn::after{-webkit-animation:seepAgent 1s 1 forwards;animation:seepAgent 1s 1 forwards}.message.battle.enemy.on-turn::after{-webkit-animation:seepEnemy 1s 1 forwards;animation:seepEnemy 1s 1 forwards}@media screen and (max-width: 48rem){.battle-wrapper{display:grid;grid-template-rows:auto;align-items:center;justify-items:start}.battle-wrapper .board.enemy{margin-left:auto}.battle-wrapper .board{max-width:25rem;grid-column:1/3}}@media screen and (max-width: 30rem){.battle-wrapper{gap:.5rem}.battle-wrapper .board.friendly{width:12.5rem;margin-right:auto}.battle-wrapper .board.friendly.off-turn{-webkit-animation:grow 1.5s 1 forwards;animation:grow 1.5s 1 forwards}.battle-wrapper .board.friendly.on-turn{-webkit-animation:shrink 1.5s 1 forwards;animation:shrink 1.5s 1 forwards}.battle-wrapper .board.enemy.off-turn{-webkit-animation:grow 1.5s 1 forwards;animation:grow 1.5s 1 forwards}.battle-wrapper .board.enemy.on-turn{-webkit-animation:shrink 1.5s 1 forwards;animation:shrink 1.5s 1 forwards}.field.hit::before,.field.miss::before{transform:none !important;animation:none !important}}.win-modal-container{display:flex;flex-direction:column;justify-content:center;background-color:rgba(0,0,0,.75);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:absolute;z-index:10;top:50%;left:50%;align-items:center;width:min(30rem,80%);aspect-ratio:1/1;gap:1rem;padding:2rem;transform:translate(-50%, -50%);border-radius:2rem !important;transform-origin:top left;-webkit-animation:pop .5s 1 forwards;animation:pop .5s 1 forwards}.win-modal-container .title-agent-win,.win-modal-container .title-enemy-win{font-size:2rem;font-style:italic;font-weight:400;text-align:center}.win-modal-container .title-agent-win{color:skyblue}.win-modal-container .title-enemy-win{color:#f3a640}.win-modal-container .message.battle.enemy-win,.win-modal-container .message.battle.agent-win{max-width:18.75rem}.win-modal-container .message.battle.enemy-win img,.win-modal-container .message.battle.agent-win img{height:3rem;margin-bottom:1rem}.win-modal-container .message.battle.enemy-win .typed-cursor,.win-modal-container .message.battle.agent-win .typed-cursor{position:relative;left:1px;bottom:-3px;display:inline-block;width:.5rem;height:1rem;color:rgba(0,0,0,0);overflow:hidden;-webkit-animation-duration:1.5s;animation-duration:1.5s}.win-modal-container .message.battle{display:flex;flex-direction:column;align-items:center}.win-modal-container .message.battle .message-container{text-align:center}.win-modal-container .message.battle .message-container .message-agent-win,.win-modal-container .message.battle .message-container .message-enemy-win{display:inline;width:100%;font-size:min(.5rem + 1vw,1.125rem);color:#f3a640}.win-modal-container .message.battle .message-container .message-agent-win{color:skyblue}.win-modal-container .message.battle .message-container .message-agent-win+.typed-cursor{font-size:min(.5rem + 1vw,1rem);background-color:skyblue}.win-modal-container .message.battle .message-container .message-enemy-win{color:#f3a640}.win-modal-container .message.battle .message-container .message-enemy-win+.typed-cursor{font-size:min(.5rem + 1vw,1rem);background-color:#f3a640}.win-modal-container.enemy{box-shadow:#f3a640 0 0 2rem}.win-modal-container.player{box-shadow:skyblue 0 0 2rem}.win-overlay{height:100%;width:100%;background-color:rgba(0,0,0,.75);position:absolute;z-index:5;-webkit-animation:opacityShow .5s 1 forwards;animation:opacityShow .5s 1 forwards}:root{color-scheme:light dark;color:#fff;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-size:16px}*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}html{min-height:100vh;height:-webkit-fill-available}html,body{min-height:100vh;min-height:-webkit-fill-available;background-color:#03254c}body{min-height:100vh;background:url('+k+") bottom/cover no-repeat;overflow-x:hidden}h1,button,a,img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;-webkit-text-decoration-line:none;text-decoration-line:none}.app{display:flex;justify-content:center;align-items:center;position:relative;min-height:100vh;height:-webkit-fill-available;text-align:center;padding:1rem}.app.pregame{display:flex;flex-direction:column;justify-content:center;padding:2rem}.app-setup,.app.battle{position:relative;width:100%;margin:0 auto}.app-setup>*,.app.battle>*{border-radius:.5rem}",""]);const x=g},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);a&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var i={},s=[],o=0;o<e.length;o++){var l=e[o],d=a.base?l[0]+a.base:l[0],c=i[d]||0,u="".concat(d," ").concat(c);i[d]=c+1;var m=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var p=r(h,a);a.byIndex=o,t.splice(o,0,{identifier:u,updater:p,references:1})}s.push(u)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=a(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var o=n(i[s]);t[o].references--}for(var l=a(e,r),d=0;d<i.length;d++){var c=n(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},858:(e,t,n)=>{e.exports=n.p+"d56e5a89beb359219e25.svg"},241:(e,t,n)=>{e.exports=n.p+"640f2e18a69b8f2bf893.svg"},2:(e,t,n)=>{e.exports=n.p+"550985caaa8859d4b95f.svg"},598:(e,t,n)=>{e.exports=n.p+"cc5276b8bdcda775337c.svg"},407:(e,t,n)=>{e.exports=n.p+"1a198fe2cecaceaeb38f.svg"},492:(e,t,n)=>{e.exports=n.p+"86acb71de180e9befa87.svg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={id:a,exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{const e=new class{constructor(){this.BOARD_SIZE=10}clearContent(){document.getElementById("app").replaceChildren("")}getHeader(e){const t=document.createElement("header");t.classList.add("header",`${e}`);const n=document.createElement("h1");return n.textContent="BATTLESHIP",t.appendChild(n),t}createMap(e){const t=document.createElement("div");return t.id=`board-${e}`,t.classList.add("board",e),t.appendChild(this.createLettersSection()),t.appendChild(this.createNumbersSection()),t.appendChild(this.createBoard(e)),t}createLettersSection(){const e=document.createElement("div");return e.classList="letter-container",["A","B","C","D","E","F","G","H","I","J"].forEach((t=>{const n=document.createElement("div");n.className="letter",n.textContent=t,e.appendChild(n)})),e}createNumbersSection(){const e=document.createElement("div");return e.id="number-container",e.classList="number-container",[1,2,3,4,5,6,7,8,9,10].forEach((t=>{const n=document.createElement("div");n.classList="number",n.textContent=t,e.appendChild(n)})),e}createBoard(e){const t=document.createElement("div");t.id=`field-container-${e}`,t.className="field-container";const n=this.BOARD_SIZE;for(let e=0;e<n;e+=1){console.log("ROW NR: ",e);for(let a=0;a<n;a+=1){console.log("FIELD NR: ",e*n+a);const r=document.createElement("div");r.className="field",t.appendChild(r)}}return t}create(e,t){e||console.log("missing type");const n=document.createElement(e);for(const[e,a]of Object.entries(t))n[e]=a;return n}getCoordinatesFromIndex(e){return[parseInt(e/this.BOARD_SIZE,10),e%this.BOARD_SIZE]}getIndexFromCoordinates(e,t){return e*this.BOARD_SIZE+t}roundNearestTenExceptZero(e){for(;e%10!=0;)e+=1;return e}appendAll(e,t){t.forEach((t=>e.appendChild(t)))}},t=new class{loadCard(){const t=document.getElementById("app");t.classList.add("pregame");const n=this.createPregameCard();e.appendAll(t,[n])}createPregameCard(){const t=e.create("section",{className:"pregame-card"}),n=this.createTitle(),a=this.createNameForm(),r=this.createPlayNowButton();return e.appendAll(t,[n,a,r]),t}createTitle(){return e.create("h1",{textContent:"BATTLESHIP"})}createNameForm(){const t=e.create("div",{className:"name-form"}),n=e.create("input",{type:"text",id:"name-input",className:"name-input",placeholder:"Captain name",minLength:0,maxLength:15}),a=e.create("span",{className:"input-border"});return e.appendAll(t,[n,a]),t}createPlayNowButton(){const t=e.create("button",{type:"button",id:"play-now-button",className:"play-now-button"}),n=e.create("span",{className:"text-play-button",textContent:"ENTER COMBAT"});return t.appendChild(n),t}},a=class{constructor(e,t){this.name=e,this.length=t,this.hits=0,this.isSunk=!1,this.isFound=!1}getName(){return this.name}getFound(){return this.isFound}getSunk(){return this.isSunk}getLength(){return this.length}getHits(){return this.hits}setName(e){this.name=e}setFound(e){this.isFound=e}setSunk(e){this.isSunk=e}setLength(e){this.length=e}setHits(e){this.hits=e}hit(){this.hits+=1,this.hits===this.length&&this.sink()}sink(){this.isSunk=!0}toggleFound(){this.isFound=!this.isFound}resetFound(){this.isFound=!1}found(){this.isFound=!0}},r=class{constructor(e,t){this.alias=e,this.type=t,this.grid=new class{constructor(){this.board=new Array(10).fill("x").map((()=>new Array(10).fill("x"))),this.shipOnDrag={name:"",length:0},this.fleet=[],this.axis="X"}getBoard(){return this.board}getFleet(){return this.fleet}getAxis(){return this.axis}getShipOnDrag(){return this.shipOnDrag}getShip(e){return this.fleet.find((t=>t.getName()===e))}setAxisX(){this.axis="X"}setAxisY(){this.axis="Y"}setShipOnDrag(e){this.shipOnDrag.name=e.name,this.shipOnDrag.length=e.length}setAllShipsNotFound(){this.fleet.forEach((e=>e.resetFound()))}addToFleet(e){let t;switch(e.getName()){case"carrier":t=new a("carrier",5);break;case"battleship":t=new a("battleship",4);break;case"cruiser":t=new a("cruiser",3);break;case"submarine":t=new a("submarine",3);break;default:t=new a("destroyer",2)}this.fleet.push(t)}setFleetEmpty(){this.fleet=[]}placeX(e,t){const n=e.getLength(),[a,r]=t,i=[];if(this.isOutOfBounds(n,this.board.length,r))return!1;for(let e=0;e<n;e++){const t=r+e;if(t>=this.board.length||"x"!==this.board[a][t])return!1;i.push([a,t])}return i.forEach((([t,n])=>{this.board[t][n]=`${e.getName()}X`})),this.addToFleet(e),!0}placeY(e,t){const n=e.getLength(),[a,r]=t,i=[];if(this.isOutOfBounds(n,this.board.length,a))return!1;for(let e=0;e<n;e++){const t=a+e;if(t>=this.board.length||"x"!==this.board[t][r])return!1;i.push([t,r])}return i.forEach((([t,n])=>{this.board[t][n]=`${e.getName()}Y`})),this.addToFleet(e),!0}isOutOfBounds(e,t,n){return e>t-n}receiveAttack(e){const[t,n]=e;this.recordHit(t,n)}recordHit(e,t){switch(this.board[e][t]){case"carrierX":case"carrierY":this.getShip("carrier").hit();break;case"battleshipX":case"battleshipY":this.getShip("battleship").hit();break;case"cruiserX":case"cruiserY":this.getShip("cruiser").hit();break;case"submarineX":case"submarineY":this.getShip("submarine").hit();break;case"destroyerX":case"destroyerY":this.getShip("destroyer").hit();break;default:this.board[e][t]="miss"}}areAllShipsFound(){return 5===this.fleet.length}isEveryShipSunk(){return this.fleet.every((e=>e.getSunk()))}},this.attackQueue=[],this.moves=0}getAlias(){return this.alias}getGrid(){return this.grid}getType(){return this.type}setAlias(e){this.alias=e}isFieldEmpty(e){const[t,n]=e;return"miss"!==this.getGrid().getBoard()[t][n]&&"hit"!==this.getGrid().getBoard()[t][n]}hasLost(){return this.getGrid().getFleet().every((e=>!0===e.getSunk()))}autoPosition(){[{name:"carrier",length:5},{name:"battleship",length:4},{name:"cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].forEach((e=>{let t=!1;for(;!t;){const n=this.randomDirection(),r=this.randomCoordinate(),i=this.randomCoordinate(),s=new a(e.name,e.length);t="x"===n?this.getGrid().placeX(s,[r,i]):this.getGrid().placeY(s,[r,i])}}))}computerTurn(){let e,t,n=!0;for(;n;)this.attackQueue.length>1?[e,t]=this.getRandomAndRemove(this.attackQueue):(e=this.randomCoordinate(),t=this.randomCoordinate()),this.isFieldEmpty([e,t])&&(n=!1,this.getGrid().receiveAttack([e,t]));return this.populateQueue(e,t),this.moves++,[e,t]}populateQueue(e,t){if(1===this.attackQueue.length&&(this.attackQueue=[]),"miss"===this.getGrid().getBoard()[e][t])return;let n=!1;if(0===this.attackQueue.length&&(this.attackQueue.push([e,t]),n=!0),[[e-1,t],[e+1,t],[e,t-1],[e,t+1]].forEach((([e,t])=>{e>=0&&e<=9&&t>=0&&t<=9&&this.attackQueue.push([e,t])})),this.attackQueue.length>1&&!n){const[n,a]=this.attackQueue[0];e===n?this.attackQueue=[this.attackQueue[0],...this.attackQueue.slice(1).filter((([t])=>t===e))]:t===a&&(this.attackQueue=[this.attackQueue[0],...this.attackQueue.slice(1).filter((([,e])=>e===t))])}}playTurn(e){const[t,n]=e;this.isFieldEmpty([t,n])&&(this.getGrid().receiveAttack([t,n]),this.moves++)}randomCoordinate(){return Math.floor(10*Math.random())}randomDirection(){return["x","y"][Math.round(Math.random())]}getRandomAndRemove(e){const t=Math.floor(Math.random()*(e.length-1))+1,n=e[t];return e.splice(t,1),n}},i=new class{constructor(){this.state=this.initializeGame()}getPlayer(){return this.state.player}getCPU(){return this.state.cpu}setPlayerName(e="Captain"){this.getPlayer().setAlias(e)}initializeGame(){return{player:new r("Captain","player"),cpu:new r("cpu","cpu")}}},s=n.p+"008846a84b2a34dde315.svg";var o=n(858);const l=n.p+"0504ee6feab7e47038d3.svg",d=n.p+"543bf6eb30d63dfd7a2f.svg",c=n.p+"56e5c8a88ff718d93efc.svg",u=new class{constructor(){this.startTime=null}getCurrentTime(){return null===this.startTime&&(this.startTime=(new Date).getTime()),((new Date).getTime()-this.startTime)/1e3}loadFleet(e){const t=i.getPlayer(),n=t.getGrid(),a=n.getBoard();for(let r=0;r<a.length;r+=1)for(let i=0;i<a[0].length;i+=1)if("x"!==a[r][i]){const s=a[r][i];this.loadShipOnBoard(t,{map:n,board:e,element:s,row:r,col:i})}}loadShipOnBoard(t,n){const a=n.element.slice(0,-1),r=t.getGrid().getShip(a);if(r.isFound)return;r.found();const i=r.getLength(),[o,l]=["10%",10*i+"%"],[d,c]=[10*n.row+"%",10*n.col+"%"];let u="rotate(0deg)";"Y"===n.element.at(-1)&&(u="rotate(90deg) translate(0,-100%)");const m=this.getCurrentTime(),h=e.create("div",{className:"ship-image-container"});h.classList.add("bleep"),h.style.position="absolute",h.style.zIndex="-1",h.style.top=d,h.style.left=c,h.style.width=l,h.style.height=o,h.style.transform=u,h.style.transformOrigin="top left",h.style.maskImage=s,h.style.animationDelay=-m+"s";const p=e.create("img",{className:!0===t.isCpu?`${a}-cpu`:`${a}-player`});p.src=this.loadShipImage(a),p.style.height="95%",p.style.aspectRatio=`${i}/1`,h.appendChild(p),n.board.appendChild(h)}loadShipImage(e){let t;switch(e){case"carrier":t=s;break;case"battleship":t=o;break;case"cruiser":t=l;break;case"submarine":t=d;break;case"destroyer":t=c;break;default:t=""}return t}};function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}var h={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}},p=new(function(){function e(){}var t=e.prototype;return t.load=function(e,t,n){if(e.el="string"==typeof n?document.querySelector(n):n,e.options=m({},h,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map((function(e){return e.trim()})),e.stringsElement="string"==typeof e.options.stringsElement?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var a=Array.prototype.slice.apply(e.stringsElement.children),r=a.length;if(r)for(var i=0;i<r;i+=1)e.strings.push(a[i].innerHTML.trim())}for(var s in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[s]=s;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},t.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent},t.appendCursorAnimationCss=function(e){var t="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.setAttribute(t,"true"),n.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(n)}},t.appendFadeOutAnimationCss=function(e){var t="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.setAttribute(t,"true"),n.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(n)}},e}()),g=new(function(){function e(){}var t=e.prototype;return t.typeHtmlChars=function(e,t,n){if("html"!==n.contentType)return t;var a=e.substring(t).charAt(0);if("<"===a||"&"===a){var r;for(r="<"===a?">":";";e.substring(t+1).charAt(0)!==r&&!(1+ ++t>e.length););t++}return t},t.backSpaceHtmlChars=function(e,t,n){if("html"!==n.contentType)return t;var a=e.substring(t).charAt(0);if(">"===a||";"===a){var r;for(r=">"===a?"<":"&";e.substring(t-1).charAt(0)!==r&&!(--t<0););t--}return t},e}()),f=function(){function e(e,t){p.load(this,t,e),this.begin()}var t=e.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(e){void 0===e&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout((function(){0===e.strPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)}),this.startDelay)},t.typewrite=function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var a=this.humanizer(this.typeSpeed),r=1;!0!==this.pause.status?this.timeout=setTimeout((function(){t=g.typeHtmlChars(e,t,n);var a=0,i=e.substring(t);if("^"===i.charAt(0)&&/^\^\d+/.test(i)){var s=1;s+=(i=/\d+/.exec(i)[0]).length,a=parseInt(i),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+s),n.toggleBlinking(!0)}if("`"===i.charAt(0)){for(;"`"!==e.substring(t+r).charAt(0)&&(r++,!(t+r>e.length)););var o=e.substring(0,t),l=e.substring(o.length+1,t+r),d=e.substring(t+r+1);e=o+l+d,r--}n.timeout=setTimeout((function(){n.toggleBlinking(!1),t>=e.length?n.doneTyping(e,t):n.keepTyping(e,t,r),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))}),a)}),a):this.setPauseStatus(e,t,!0)},t.keepTyping=function(e,t,n){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var a=e.substring(0,t+=n);this.replaceText(a),this.typewrite(e,t)},t.doneTyping=function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout((function(){n.backspace(e,t)}),this.backDelay))},t.backspace=function(e,t){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var a=this.humanizer(this.backSpeed);this.timeout=setTimeout((function(){t=g.backSpaceHtmlChars(e,t,n);var a=e.substring(0,t);if(n.replaceText(a),n.smartBackspace){var r=n.strings[n.arrayPos+1];n.stopNum=r&&a===r.substring(0,t)?t:0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))}),a)}else this.setPauseStatus(e,t,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t},t.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(e){return Math.round(Math.random()*e/2)+e},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort((function(){return Math.random()-.5})))},t.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout((function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)}),this.fadeOutDelay)},t.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e},t.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",(function(t){e.stop()})),this.el.addEventListener("blur",(function(t){e.el.value&&0!==e.el.value.length||e.start()})))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},e}();const b=n.p+"2d80167d315204e60bc4.png",y=n.p+"9aae6a9e96b92014ac6c.png",w=new class{constructor(){this.images={agent:b,enemy:y}}createMessageSection(t){const n=e.create("section",{className:"message"});t.forEach((e=>n.classList.add(e)));const a=t[1],r=e.create("img",{className:"message-image"}),i="agent"===t[1]||"agent-win"===t[1]?"agent":"enemy";return r.src=this.images[i],n.appendChild(r),n.appendChild(this.createMessage(a)),n}createMessage(t){const n=e.create("div",{id:"message-container",className:"message-container"}),a=e.create("div",{id:`message-${t}`,className:`message-${t}`});return n.appendChild(a),n}addTypeWriterMessage(e,t){new f(e,{strings:t,typeSpeed:10})}createShipCard(t){const n=e.create("div",{className:"ship-card",draggable:"true"}),a=e.create("div",{className:"ship-content"}),r=e.create("img",{className:"ship-image"}),i=e.create("p",{className:"ship-name"});switch(t){case"carrier":n.dataset.shipName="carrier",n.dataset.shipLength=5,r.src=s,i.textContent="Carrier (5f)";break;case"battleship":n.dataset.shipName="battleship",n.dataset.shipLength=4,r.src=o,i.textContent="Battleship (4f)";break;case"cruiser":n.dataset.shipName="cruiser",n.dataset.shipLength=3,r.src=l,i.textContent="Cruiser (3f)";break;case"submarine":n.dataset.shipName="submarine",n.dataset.shipLength=3,r.src=d,i.textContent="Submarine (3f)";break;case"destroyer":n.dataset.shipName="destroyer",n.dataset.shipLength=2,r.src=c,i.textContent="Destroyer (2f)"}return e.appendAll(a,[r,i]),n.appendChild(a),n}},v=new class{constructor(){this.messages={welcome:["Ahoy, Captain!","Prepare our fleet by selecting the axis and placing the ships on the grid."],battleStartPlayer:["All systems are green. Let's give them a battle they'll never forget!"],battleStartEnemy:["No mercy will be shown, just as your father showed none to mine."],enemyHit:["Direct hit, Captain! They're starting to take on water.","Another hit, sir! Their ship is taking serious damage.","Bullseye! Were breaking their defenses.","Captain, that shot landed perfectly. The enemy is faltering.","We're hitting them hard, Captain. They won't last long.","Excellent shot! The enemy ship is heavily damaged.","That's a solid hit, Captain. They're on the brink!","Another successful hit, sir! The enemy ship is reeling.","The enemy ship took that hit hard! Well done, Captain.","Target struck! Their ship is barely holding together."],enemySunk:["Well done, Captain! That enemy vessel is sinking fast.","Enemy ship down! Another victory for us, Captain.","Captain, we've sunk their ship. One less threat to worry about.","Another one bites the dust, Captain. Enemy ship has been sunk.","Direct hit! The enemy ship is going under.","Victory, Captain! That enemy ship is no more.","The enemy ship has been sent to the bottom of the ocean. Well done.","That ship is toast, Captain. Its going down!","The enemy ship has been obliterated. Were unstoppable!","Weve sent another ship to the depths. Victory is ours, Captain!"],playerMiss:["So close, Captain! Well get them next time.","No luck with that shot, Captain.","Missed that one, but well hit the next.","Our aim was off, but well adjust.","No hit, Captain. The enemy evaded us.","That was a miss, but dont lose hope, Captain.","The enemy slipped away this time, Captain.","We need to recalibrate our aim, Captain.","They dodged our shot, but well strike again soon.","Not quite, Captain. Well nail them with the next one."],playerHit:["Your ship is under fire!","Brace yourself! Weve just scored a hit.","Direct hit on your vessel! Damage sustained.","You're in our sights now!","Another hit! Your ship is taking on water.","Gotcha! Your defenses are failing.","Bullseye! Your ship wont last much longer.","You're taking serious damage! Ready to surrender?","Weve got you cornered. Prepare for the final blow!","Your ship is barely holding together. Time to give up?"],playerSunk:["Your ship's going down. Better start swimming!","Another one of your ships bites the dust.","Your ship has been sunk! Whats next, Captain?","Weve sent your ship to the bottom of the sea!","Another one of your ships meets a watery grave.","It's over for that ship. Youre running out of options!","Your fleet is dwindling, Captain. Another ship down.","The ocean claims another one of your ships. Too bad!","Your ship couldnt withstand the assault. Its done for.","Another ship sunk! How long can you last, Captain?"],enemyMiss:["Missed again? Seriously? I must be losing my edge.","Wow, that shot was way off. Maybe I should get my eyes checked.","Can't believe I missed! I'm really outdoing myself today.","Another miss? Im really on a roll here of failure.","Great job, me! Missing like a pro.","Didn't hit a thing. I should give myself a medal for that one.","Missed again? Clearly, Im just giving them a sporting chance.","What a shot! Too bad it hit absolutely nothing.","Another shot, another miss. Im really out of practice.","Missed? Of course, I did. Wouldnt want to make it too easy for them."],noComment:["..."],playerWin:["Victory is ours, Captain! You truly are the ruler of the seas."],enemyWin:["Defeated! This is for my father. You were no match for me."]}}getWelcomeMessage(){const e=i.getPlayer().getAlias();return this.messages.welcome[0]+=` ${e}!`,this.messages.welcome}getBattleStartMessage(){return[`${i.getPlayer().getAlias()}, ${this.messages.battleStartPlayer[0]}`]}getNewEnemyBattleStartMessage(){return this.messages.battleStartEnemy}getNewEnemyHitMessage(e){return this.getRandomMessage(this.messages.enemyHit,e)}getNewEnemySunkMessage(e){return this.getRandomMessage(this.messages.enemySunk,e)}getNewPlayerMissMessage(e){return this.getRandomMessage(this.messages.playerMiss,e)}getNewPlayerHitMessage(e){return this.getRandomMessage(this.messages.playerHit,e)}getNewPlayerSunkMessage(e){return this.getRandomMessage(this.messages.playerSunk,e)}getNewEnemyMissMessage(e){return this.getRandomMessage(this.messages.enemyMiss,e)}getNoCommentMessage(){return this.messages.noComment}getPlayerWinMessage(){return this.messages.playerWin}getEnemyWinMessage(){return this.messages.enemyWin}getRandomMessage(e,t){let n=t;for(;n===t;)n=e[this.randomIndex(e.length)];return n}randomIndex(e){return Math.floor(Math.random()*e)}},k=n.p+"e38f594694469ba3b826.mp3",x=n.p+"96a50b265841ced7c235.mp3",S=n.p+"058afc203bb520b90d96.mp3",C=n.p+"3cdc6e714f75d5dc18ba.mp3",E=new class{constructor(){this.audioCtx=null,this.backgroundSource=null}initAudioContext(){this.audioCtx?"suspended"===this.audioCtx.state&&this.audioCtx.resume():this.audioCtx=new(window.AudioContext||window.webkitAudioContext)}playSound(e){this.initAudioContext();const t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=()=>{this.audioCtx.decodeAudioData(t.response,(e=>{const t=this.audioCtx.createBufferSource();t.buffer=e,t.connect(this.audioCtx.destination),t.start(0)}))},t.send()}shot(){this.playSound(k)}hit(){this.playSound(x)}miss(){this.playSound(S)}async playBackground(){this.initAudioContext();const e=await fetch(C),t=await e.arrayBuffer();this.audioCtx.decodeAudioData(t,(e=>{this.backgroundSource=this.audioCtx.createBufferSource(),this.backgroundSource.buffer=e,this.backgroundSource.loop=!0,this.backgroundSource.connect(this.audioCtx.destination),this.backgroundSource.start(0)}))}BackgroundOnFirstTouch(){const e=()=>{this.playBackground(),document.removeEventListener("click",e),document.removeEventListener("touchstart",e)};/Android|iPhone/i.test(navigator.userAgent)?document.addEventListener("touchstart",e,{once:!0}):document.addEventListener("click",e,{once:!0})}stopBackground(){this.backgroundSource&&(this.backgroundSource.stop(),this.backgroundSource=null)}},B=new class{constructor(){this.isPlayerTurn=!0}loadBattleContent(){e.clearContent();const t=document.getElementById("app");t.classList.replace("setup","battle"),t.appendChild(this.createBattleWrapper()),this.displayPlayerShips(),i.getCPU().autoPosition(),this.displayBattleStartMessage("agent"),this.displayBattleStartMessage("enemy"),this.initBoardFields(),this.styleOnTurn(document.querySelector(".message.battle.agent"))}createBattleWrapper(){const t=e.create("div",{className:"battle-wrapper"});return e.appendAll(t,[this.createPlayerMap(),this.createComputerMap(),w.createMessageSection(["battle","agent"]),w.createMessageSection(["battle","enemy"])]),t}createPlayerMap(){const t=e.createMap("friendly");return t.appendChild(this.createMapTitle("FRIENDLY WATERS")),t}createComputerMap(){const t=e.createMap("enemy");return t.appendChild(this.createMapTitle("ENEMY WATERS")),t}createMapTitle(t){const n=e.create("div",{className:"map-title-container"}),a=e.create("h3",{className:"map-title",textContent:t});return n.appendChild(a),n}createWinnerModal(t){const n=e.create("section",{id:"win-modal-container",className:"win-modal-container"});n.classList.add(t.className);const a=e.create("h4",{id:`title-${t.id}`,className:`title-${t.id}`,textContent:t.title}),r=w.createMessageSection(["battle",t.id]),i=e.create("button",{id:"new-game-button",className:"new-game-button",textContent:"New Battle"});return e.appendAll(n,[a,r,i]),n}createWinOverlay(){return e.create("div",{className:"win-overlay"})}showPlayerWinModal(){const t=document.getElementById("app");return e.appendAll(t,[this.createWinnerModal({title:"YOU WIN!",id:"agent-win",className:"player"}),this.createWinOverlay()]),this.displayWinMessage("agent-win"),this.initNewGameButton(),this.unInitBoardFields(),"win"}showEnemyWinModal(){const t=document.getElementById("app");return e.appendAll(t,[this.createWinnerModal({title:"YOU LOSE!",id:"enemy-win",className:"enemy"}),this.createWinOverlay()]),this.displayWinMessage("enemy-win"),this.initNewGameButton(),"win"}initNewGameButton(){document.getElementById("new-game-button").addEventListener("click",(()=>window.location.reload()))}initBoardFields(){document.getElementById("board-enemy").querySelector(".field-container").childNodes.forEach((e=>{e.addEventListener("click",(e=>this.handleFieldClick(e)))})),this.addFieldHoverWhenOnTurn()}unInitBoardFields(){document.querySelectorAll(".field").forEach((e=>e.removeEventListener("click",this.handleFieldClick))),this.removeFieldHoverWhenOffTurn()}async handleFieldClick(e){if(!this.isPlayerTurn)return;console.log("Player turn starts"),this.isPlayerTurn=!1;const{target:t}=e;this.disableField(t);const n=await this.playerPlays(t);if("win"===n||"hit"===n)return console.log("Player action ends with hit or win"),void(this.isPlayerTurn=!0);console.log("Ending player turn");let a=await this.cpuPlays();if("win"===a)return console.log("CPU turn ends with win"),void(this.isPlayerTurn=!0);for(;"hit"===a;)console.log("CPU hits again"),a=await this.cpuPlays();console.log("CPU turn ends"),this.isPlayerTurn=!0,console.log("Player turn ends")}async playerPlays(t){console.log("Player action begins");const n=i.getCPU(),a=[...t.parentNode.children].indexOf(t),[r,s]=e.getCoordinatesFromIndex(a),o=n.getGrid().getBoard()[r][s],l=this.getShipNameFromBoard(o),d=n.getGrid().getShip(l);return this.unInitBoardFields(),await this.shotOnTurnPlay("player"),"x"!==o?(console.log("Player hit"),await this.playerHit(t)):(await this.playerMiss(t),this.displayPlayerMessage(o,d),await this.timeoutOneSecond(),await this.turnEnd("player"),console.log("Player action ends"),"miss")}async cpuPlays(){const e=i.getPlayer(),[t,n]=e.computerTurn(),a=e.getGrid().getBoard()[t][n],r=this.getShipNameFromBoard(a),s=e.getGrid().getShip(r);return console.log("computer shot at "+t+" "+n),await this.shotOnTurnPlay("cpu"),"miss"===a||"x"===a?(await this.cpuMiss(t,n),this.displayEnemyMessage(a,s),await this.timeoutOneSecond(),await this.turnEnd("cpu"),"miss"):await this.cpuHit(t,n)}async shotOnTurnPlay(e){"player"===e?(E.shot(),await this.timeoutHalfSecond()):(this.displayPlayerNoCommentMessage(),await this.timeoutOneSecond(),E.shot(),await this.timeoutHalfSecond())}async playerMiss(e){this.addMissStyle(e),await this.timeoutMissileLength(),E.miss()}async cpuMiss(t,n){const a=document.getElementById("field-container-friendly"),r=i.getPlayer(),s=e.getIndexFromCoordinates(t,n);this.addMissStyle(a.children[s]),r.getGrid().getBoard()[t][n]="miss",await this.timeoutMissileLength(),E.miss()}async playerHit(t){const n=i.getCPU(),a=[...t.parentNode.children].indexOf(t),[r,s]=e.getCoordinatesFromIndex(a),o=n.getGrid().getBoard()[r][s],l=this.getShipNameFromBoard(o),d=n.getGrid().getShip(l);return this.addHitStyle(t),this.loadShipIfSunk({cpu:n,battleship:d,row:r,col:s}),await this.timeoutMissileLength(),E.hit(),this.displayPlayerMessage(o,d),await this.timeoutOneSecond(),n.hasLost()?this.showPlayerWinModal():(this.initBoardFields(),"hit")}async cpuHit(t,n){const a=document.getElementById("field-container-friendly"),r=i.getPlayer(),s=e.getIndexFromCoordinates(t,n),o=r.getGrid().getBoard()[t][n],l=this.getShipNameFromBoard(o),d=r.getGrid().getShip(l);return this.addHitStyle(a.children[s]),r.getGrid().getBoard()[t][n]="hit",await this.timeoutMissileLength(),E.hit(),this.displayEnemyMessage(o,d),r.hasLost()?this.showEnemyWinModal():"hit"}async turnEnd(e){console.log(`${e} turn ends`),await this.timeoutOneAndHalfSecond(),"player"===e?(this.styleOffTurn(document.querySelector(".message.battle.agent")),this.styleOnTurn(document.querySelector(".message.battle.enemy")),this.resizePlayerOffTurn()):(this.styleOffTurn(document.querySelector(".message.battle.enemy")),this.styleOnTurn(document.querySelector(".message.battle.agent")),this.resizePlayerOnTurn(),this.initBoardFields())}displayPlayerShips(){const e=document.getElementById("field-container-friendly");i.getPlayer().getGrid().setAllShipsNotFound(),u.loadFleet(e)}loadShipIfSunk(e){const t=document.getElementById("field-container-enemy"),n=e.cpu.getGrid(),a=n.getBoard();if(n.receiveAttack([e.row,e.col]),e.battleship.isSunk){const r=a[e.row][e.col],[i,s]=this.findOrigin(a,a[e.row][e.col]);u.loadShipOnBoard(e.cpu,{map:n,board:t,element:r,row:i,col:s})}}findOrigin(e,t){for(let n=0;n<e.length;n+=1)for(let a=0;a<e[0].length;a+=1)if(e[n][a]===t)return[n,a];return[0,0]}getShipNameFromBoard(e){return e.slice(0,e.length-1)}displayBattleStartMessage(e){const t=document.getElementById(`message-${e}`);"agent"===e?w.addTypeWriterMessage(t,v.getBattleStartMessage()):w.addTypeWriterMessage(t,v.getNewEnemyBattleStartMessage())}displayPlayerMessage(e,t=!1){const n=document.getElementById("message-agent"),a=document.getElementById("message-enemy");"x"!==e?t&&!t.isSunk?this.displayMessage(n,v.getNewEnemyHitMessage(n.textContent)):t.isSunk&&this.displayMessage(n,v.getNewEnemySunkMessage(n.textContent)):this.displayMessage(n,v.getNewPlayerMissMessage(n.textContent)),"..."!==a.textContent&&this.displayMessage(a,v.getNoCommentMessage()[0])}displayEnemyMessage(e,t=!1){const n=document.getElementById("message-enemy");"x"!==e&&"miss"!==e?t&&!t.isSunk?this.displayMessage(n,v.getNewPlayerHitMessage(n.textContent)):t.isSunk&&this.displayMessage(n,v.getNewPlayerSunkMessage(n.textContent)):this.displayMessage(n,v.getNewEnemyMissMessage(n.textContent))}displayPlayerNoCommentMessage(){const e=document.getElementById("message-agent");this.displayMessage(e,v.getNoCommentMessage()[0])}displayWinMessage(e){const t=document.getElementById(`message-${e}`);"agent-win"===e?w.addTypeWriterMessage(t,v.getPlayerWinMessage()):"enemy-win"===e&&w.addTypeWriterMessage(t,v.getEnemyWinMessage())}displayMessage(e,t){this.clearTypeWriter(e),w.addTypeWriterMessage(e,[t])}clearTypeWriter(e){e.nextElementSibling&&(e.textContent="",e.nextElementSibling.remove())}removeFieldHoverWhenOffTurn(){const e=document.getElementById("field-container-enemy");this.disableField(e)}resizePlayerOnTurn(){this.styleOffTurn(document.getElementById("board-enemy")),this.styleOnTurn(document.getElementById("board-friendly"))}resizePlayerOffTurn(){this.styleOffTurn(document.getElementById("board-friendly")),this.styleOnTurn(document.getElementById("board-enemy"))}addFieldHoverWhenOnTurn(){const e=document.getElementById("field-container-enemy");this.enableField(e)}enableField(e){e.classList.remove("disabled")}disableField(e){e.classList.add("disabled")}addHitStyle(e){e.classList.add("hit")}addMissStyle(e){e.classList.add("miss")}styleOnTurn(e){e.classList.remove("off-turn"),e.classList.add("on-turn")}styleOffTurn(e){e.classList.remove("on-turn"),e.classList.add("off-turn")}timeoutOneAndHalfSecond(){return new Promise((e=>setTimeout(e,1500)))}timeoutOneSecond(){return new Promise((e=>setTimeout(e,1e3)))}timeoutHalfSecond(){return new Promise((e=>setTimeout(e,500)))}timeoutMissileLength(){return new Promise((e=>setTimeout(e,300)))}},T=new class{constructor(){this.fieldQueue=[],this.touchMove=!1}initDraggableFields(){this.dragStart(),this.dragEnter(),this.dragOver(),this.dragLeave(),this.dragDrop(),this.mobileDrag(),this.mobileDrop()}emptyFieldQueue(){this.fieldQueue=[]}dragStart(){document.getElementById("fleet-setup").childNodes.forEach((e=>{e.addEventListener("dragstart",(t=>{this.dragStartHandler(t,e)}))}))}dragEnter(){document.getElementById("field-container-setup").childNodes.forEach((e=>{e.addEventListener("dragenter",this.dragEnterHandler.bind(this))}))}dragOver(){const e=document.getElementById("field-container-setup");e.childNodes.forEach(((t,n)=>{t.addEventListener("dragover",(t=>{this.dragOverHandler(t,e,n)}))}))}dragLeave(){document.getElementById("field-container-setup").childNodes.forEach((e=>{e.addEventListener("dragleave",this.dragLeaveHandler.bind(this))}))}dragDrop(){const e=document.getElementById("field-container-setup");e.childNodes.forEach(((t,n)=>{t.addEventListener("drop",(()=>{this.dragDropHandler(e,n)}))}))}mobileDrag(){const e=document.getElementById("fleet-setup"),t=document.getElementById("field-container-setup"),n=document.getElementById("app"),a=[null];e.childNodes.forEach((r=>{r.addEventListener("touchmove",(i=>this.touchMoveHandler(i,r,t,e,n,a)),{passive:!1})}))}mobileDrop(){document.getElementById("fleet-setup").childNodes.forEach((e=>{e.addEventListener("touchend",(t=>{this.touchEndHandler(t,e)}))}))}dragStartHandler(e,t){this.addShipOnDragStart(t),e.stopPropagation()}dragEnterHandler(e){e.preventDefault()}dragOverHandler(e,t,n){e.preventDefault(),this.styleFieldsForDrop(t,n)}dragLeaveHandler(){this.resetFieldStyling()}dragDropHandler(t,n){const[a,r]=e.getCoordinatesFromIndex(n),[i,s]=this.dropIfValid(a,r);u.loadFleet(t),this.hideIfPlaced(i,s),this.resetFieldStyling(),this.removePlacedShipsTabIndex()}removePlacedShipsTabIndex(){document.querySelectorAll(".ship-card.hidden").forEach((e=>e.setAttribute("tabindex","-1")))}dropIfValid(e,t){const n=i.getPlayer().getGrid(),r=n.getShipOnDrag();return"X"===n.getAxis()?[n.placeX(new a(r.name,r.length),[e,t]),r.name]:[n.placeY(new a(r.name,r.length),[e,t]),r.name]}touchMoveHandler(e,t,n,a,r,s){this.touchMove=!0,e.stopPropagation(),e.preventDefault(),r.appendChild(t),this.addShipOnDragStart(t);const o=i.getPlayer().getGrid().getShipOnDrag(),l=e.targetTouches[0],d=e.touches[0].clientX,c=e.touches[0].clientY;this.reInsertShipIfMissing(this.touchMove,a,o),this.positionNodeOnScreen(t,l.clientX,l.clientY);const u=document.elementFromPoint(d,c);s[0]!==u&&this.resetFieldStyling(),s[0]=u,s[0]&&s[0].classList.contains("field")&&this.styleFieldsForDrop(n,this.getNodeIndex(s[0]))}touchEndHandler(t,n){if(!this.touchMove)return;const a=t.changedTouches[0].clientX,r=t.changedTouches[0].clientY,i=n.dataset.shipName,s=document.getElementById("field-container-setup"),o=document.elementFromPoint(a,r),l=document.querySelector(`[data-ship-name="${i}"]`);if(o&&o.classList.contains("field")){const t=this.getNodeIndex(o),[n,a]=e.getCoordinatesFromIndex(t),[r,i]=this.dropIfValid(n,a);u.loadFleet(s),this.resetFieldStyling(),this.hideIfPlaced(r,i),r||l.classList.remove("hidden")}else l.classList.remove("hidden");this.touchMove=!1,n.remove(),this.resetListenersForCopyNode(l)}resetListenersForCopyNode(e){const t=document.getElementById("fleet-setup"),n=document.getElementById("field-container-setup"),a=document.getElementById("app"),r=[null];e.addEventListener("dragstart",(t=>{this.dragStartHandler(t,e)})),e.addEventListener("touchmove",(i=>this.touchMoveHandler(i,e,n,t,a,r)),{passive:!1}),e.addEventListener("touchend",(t=>this.touchEndHandler(t,e)))}reInsertShipIfMissing(e,t,n){if(e&&t.childNodes.length<5){const e=w.createShipCard(n.name);t.appendChild(e),e.classList.add("hidden")}}positionNodeOnScreen(e,t,n){e.style.position="fixed",e.style.zIndex="5",e.style.left=`${t}px`,e.style.top=`${n}px`}getNodeIndex(e){return[...e.parentNode.children].indexOf(e)}addShipOnDragStart(e){const t=e.dataset.shipName,n=parseInt(e.dataset.shipLength,10);isNaN(n)?console.error("Invalid ship length:",n):i.getPlayer().getGrid().setShipOnDrag({name:t,length:n})}resetFieldStyling(){const e=document.getElementById("field-container-setup");this.fieldQueue.forEach((t=>{e.children[t]&&(e.children[t].className="field")})),this.emptyFieldQueue()}hideIfPlaced(e,t){if(!e)return;const n=document.querySelector(`[data-ship-name=${t}]`);n&&n.classList.add("hidden"),this.enableContinueButtonIfAllPlaced()}styleFieldsForDrop(t,n){const a=i.getPlayer(),r=a.getGrid(),s=r.getBoard(),o=r.getAxis(),l=r.getShipOnDrag();let{length:d}=l;this.emptyFieldQueue(),console.log("player:",a),console.log("map:",r),console.log("board:",s),console.log("axis:",o),console.log("shipOnDrag:",l),console.log("index:",n);let c=!1;if("X"===o)for(let a=n;a<e.roundNearestTenExceptZero(n+1);a+=1){const[n,r]=e.getCoordinatesFromIndex(a);if(console.log(`X axis - i: ${a}, x: ${n}, y: ${r}`),0===d)break;t.children[a].classList.add("hovering"),this.fieldQueue.push(a),d-=1,"x"!==s[n][r]&&(c=!0)}if("Y"===o)for(let a=n;a<100;a+=10){const[n,r]=e.getCoordinatesFromIndex(a);if(console.log(`Y axis - i: ${a}, x: ${n}, y: ${r}`),0===d)break;t.children[a].classList.add("hovering"),this.fieldQueue.push(a),d-=1,"x"!==s[n][r]&&(c=!0)}(c||0!==d)&&this.fieldQueue.forEach((e=>{t.children[e].classList.add("red")}))}enableContinueButtonIfAllPlaced(){const e=document.querySelectorAll(".ship-image-container"),t=document.getElementById("continue-button");5===e.length&&(t.classList.remove("disabled"),t.removeEventListener("keydown",this.preventEnterDefault))}preventEnterDefault(e){"Enter"===e.key&&e.preventDefault()}},M=new class{loadSetupContent(){const e=document.getElementById("app");e.classList.replace("pregame","setup"),e.appendChild(this.createSetupWrapper()),this.displayWelcomeMessage(),this.initButtons()}createSetupWrapper(){const t=e.create("div",{className:"setup-wrapper"});return e.appendAll(t,[w.createMessageSection(["setup","agent"]),this.createMapFleetSection(),this.createResetContinueSection()]),t}createMapFleetSection(){const t=e.create("section",{id:"setup-container",className:"setup-container"});return t.appendChild(this.createMapFleet()),t}createMapFleet(){const t=e.create("div",{className:"board-fleet-container"});return e.appendAll(t,[e.createMap("setup"),this.createFleetSelectSection()]),t.querySelector("#board-setup").appendChild(this.createAxisButtons()),t}createAxisButtons(){const t=e.create("div",{id:"axis-button-container",className:"axis-button-container"}),n=e.create("button",{id:"x-button",className:"axis-button",textContent:"X axis"}),a=e.create("button",{id:"y-button",className:"axis-button",textContent:"Y axis"});return n.classList.add("selected"),e.appendAll(t,[n,a]),t}createFleetSelectSection(){const t=e.create("section",{id:"fleet-setup",className:"fleet-setup"});return["carrier","battleship","cruiser","submarine","destroyer"].forEach((e=>{const n=w.createShipCard(e);t.appendChild(n)})),t}createResetContinueSection(){const t=e.create("section",{id:"reset-continue-section",className:"reset-continue-section"}),n=e.create("button",{id:"reset-button",className:"reset-button",textContent:"Reset"}),a=e.create("button",{id:"continue-button",className:"continue-button",textContent:"Confirm"});return e.appendAll(t,[n,a]),t}displayWelcomeMessage(){const e=document.getElementById("message-agent");w.addTypeWriterMessage(e,v.getWelcomeMessage())}initButtons(){this.initAxisButtons(),this.initResetContinueButtons(),this.disableContinueButton(),this.setTabIndex()}initAxisButtons(){const e=document.getElementById("x-button"),t=document.getElementById("y-button");e.addEventListener("click",(()=>this.handleAxisButton(e,t))),t.addEventListener("click",(()=>this.handleAxisButton(t,e)))}handleAxisButton(e,t){const n=i.getPlayer().getGrid();"x-button"===e.id?n.setAxisX():n.setAxisY(),e.classList.add("selected"),t.classList.remove("selected")}initResetContinueButtons(){const e=document.getElementById("reset-button"),t=document.getElementById("continue-button"),n=i.getPlayer().getGrid().getBoard();e.addEventListener("click",(()=>this.handleReset(n))),t.addEventListener("click",this.handleContinue)}handleReset(e){const t=document.getElementById("field-container-setup");this.resetFleetSelect(),this.resetArray(e),this.removePlacedShips(t),this.disableContinueButton(),this.setTabIndex()}resetFleetSelect(){const e=i.getState().getPlayer().getBoard();this.resetFleetSelectMenu(),e.getFleet().forEach((e=>e.toggleFound())),e.setFleetEmpty()}resetFleetSelectMenu(){const e=document.getElementById("fleet-setup"),t=document.getElementById("message-agent");e.childNodes.forEach((e=>{e.classList.contains("hidden")&&(e.classList.remove("hidden"),t.classList.add("reset"))}))}setTabIndex(){document.querySelectorAll(".ship-card").forEach((e=>e.setAttribute("tabindex",0)))}resetArray(e){for(let t=0;t<e.length;t+=1)for(let n=0;n<e[0].length;n+=1)e[t][n]="x"}removePlacedShips(e){e.querySelectorAll(".ship-image-container").forEach((e=>e.remove()))}handleContinue(){i.getPlayer().getGrid().areAllShipsFound()&&B.loadBattleContent()}disableContinueButton(){const e=document.getElementById("continue-button");e.classList.add("disabled"),e.addEventListener("keydown",T.preventEnterDefault)}},P=new class{loadContent(){e.clearContent(),t.loadCard(),this.initPlayButton()}initPlayButton(){document.getElementById("play-now-button").addEventListener("click",(()=>this.loadSetup()))}loadSetup(){this.setPlayerName(),e.clearContent(),M.loadSetupContent(),T.initDraggableFields()}setPlayerName(){const e=document.getElementById("name-input").value.toString().trim();e&&i.getPlayer().setAlias(`Captain ${e}`),console.log(e)}};var N=n(379),I=n.n(N),L=n(795),A=n.n(L),F=n(569),O=n.n(F),D=n(565),z=n.n(D),H=n(216),W=n.n(H),R=n(589),j=n.n(R),G=n(144),Y={};Y.styleTagTransform=j(),Y.setAttributes=z(),Y.insert=O().bind(null,"head"),Y.domAPI=A(),Y.insertStyleElement=W(),I()(G.Z,Y),G.Z&&G.Z.locals&&G.Z.locals,P.loadContent(),E.BackgroundOnFirstTouch()})()})();